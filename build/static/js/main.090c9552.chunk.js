(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(25),c=a(40),s=a.n(c),o=a(113),i=a.n(o),r=(a(122),a(123),a(62)),l=(a(124),a(111)),u=a.n(l),d=a(114),b=a(112),h=a(63),j=a(115);b.b(j.a);var p=function(e){var t=e.StockData,a=e.averageLine;return Object(c.useEffect)((function(){console.log("stockdata Este:",t);var e=b.a("chartdiv",h.e);e.paddingRight=20,e.dateFormatter.inputDateFormat="yyyy-MM-dd-H-mm",e.xAxes.push(new h.b).renderer.grid.template.location=0;var n=e.yAxes.push(new h.d);void 0!==n.tooltip&&(n.tooltip.disabled=!0);var c=e.series.push(new h.a);if(c.dataFields.dateX="date",c.dataFields.valueY="close",c.dataFields.openValueY="open",c.dataFields.lowValueY="low",c.dataFields.highValueY="high",c.simplifiedProcessing=!0,c.tooltipText="Open:${openValueY.value}\nLow:${lowValueY.value}\nHigh:${highValueY.value}\nClose:${valueY.value}",a){var s=e.series.push(new h.c);s.dataFields.dateX="date",s.dataFields.valueY="average",s.tooltipText="Average:${valueY}",s.strokeOpacity=1}e.cursor=new h.g;var o=e.series.push(new h.c);o.dataFields.dateX="date",o.dataFields.valueY="close",o.defaultState.properties.visible=!1,o.hiddenInLegend=!0,o.fillOpacity=.5,o.strokeOpacity=.5;var i=new h.f;return i.series.push(o),e.scrollbarX=i,void 0!==t&&(e.data=t),function(){e.dispose()}}),[t,a]),Object(n.jsx)("div",{id:"chartdiv",style:{width:"100%",height:"100%"}})},v=function(e){var t=e.userSymbol,a=Object(c.useState)(),s=Object(r.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)(1577836800),b=Object(r.a)(l,2),h=b[0],j=b[1],v=Object(c.useState)("D"),f=Object(r.a)(v,2),O=f[0],m=f[1],g=Object(c.useState)(!1),x=Object(r.a)(g,2),k=x[0],w=x[1],S=function(){return function(e){w(!k)}},y=function(e){return function(t){var a=Math.floor(Date.now()/1e3);"1D"===e&&(j(a-86400),m("5")),"5D"===e&&(j(a-432e3),m("30")),"1W"===e&&(j(a-604800),m("60")),"1M"===e&&(j(a-2592e3),m("60")),"6M"===e&&(j(a-15552e3),m("D")),"1Y"===e&&(j(a-31104e3),m("D")),"5Y"===e&&(j(a-15552e4),m("W"))}},D=function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(1+t.getMonth())+"-"+t.getDate()+"-"+t.getHours()+"-"+t.getMinutes()};return Object(c.useEffect)((function(){var e,a;function n(){return"https://finnhub.io/api/v1/stock/candle?symbol=".concat(t,"&resolution=").concat(O,"&from=").concat(h,"&to=").concat(Math.floor(Date.now()/1e3),"&token=butpoev48v6skju275a0")}function c(){return(c=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,a=0,t.next=4,fetch(n()).then((function(e){return e.json()})).then((function(t){var n=t.c.map((function(n,c,s,o,i){return a++,e+=t.c[c],{date:D(t.t[c]),open:t.o[c].toString(),high:t.h[c].toString(),low:t.l[c].toString(),close:t.c[c].toString(),average:(e/a).toString()}}));i(n)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[t,h,O]),Object(n.jsxs)("div",{className:"charting",children:[Object(n.jsxs)("div",{className:"buttonList",children:[Object(n.jsx)("button",{id:"1D",className:"button1",onClick:y("1D"),children:"1 Day"}),Object(n.jsx)("button",{id:"5D",className:"button2",onClick:y("5D"),children:"5 Days"}),Object(n.jsx)("button",{id:"1W",className:"button1",onClick:y("1W"),children:"1 Week"}),Object(n.jsx)("button",{id:"1M",className:"button2",onClick:y("1M"),children:"1 Month"}),Object(n.jsx)("button",{id:"6M",className:"button1",onClick:y("6M"),children:"6 Months"}),Object(n.jsx)("button",{id:"1Y",className:"button2",onClick:y("1Y"),children:"1 Year"}),Object(n.jsx)("button",{id:"5Y",className:"button1",onClick:y("5Y"),children:"5 Years"}),k?Object(n.jsx)("button",{className:"button4",onClick:S(),children:"Hide average line"}):Object(n.jsx)("button",{className:"button3",onClick:S(),children:"Show average line"})]}),Object(n.jsx)(p,{StockData:o,averageLine:k})]})},f=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)(!1),i=Object(r.a)(o,2),l=i[0],u=i[1],d=Object(c.useState)([]),b=Object(r.a)(d,2),h=b[0],j=b[1];Object(c.useEffect)((function(){fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&token=butpoev48v6skju275a0").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return e.symbol}));j(t)}))}),[]);return Object(n.jsxs)("div",{className:"MainDiv",children:[Object(n.jsxs)("div",{className:"searchBox",children:[Object(n.jsx)("label",{htmlFor:"browser"}),Object(n.jsx)("input",{placeholder:"Search for a stock market symbol ex: AAPL | GOOG | TSLA...",className:"searchBar",list:"browsers",name:"browser",id:"browser",onChange:function(e){e.preventDefault(),h.includes(e.target.value.toUpperCase())&&(s(e.target.value.toUpperCase()),u(!0))}}),Object(n.jsx)("datalist",{id:"browsers",className:"InputArea",children:function(){for(var e=[],t=0;t<h.length;t++)e.push(Object(n.jsx)("option",{value:h[t],children:h[t]},t));return e}()})]}),Object(n.jsx)("div",{className:"MiddleSection",children:l?Object(n.jsx)(v,{userSymbol:a}):Object(n.jsx)("div",{className:"Loading",children:"Search for a symbol"})})]})};var O=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{id:"mainTitle",children:"Just another free Stock Charts Website"}),Object(n.jsx)(f,{})]})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root"))}},[[125,1,4]]]);
//# sourceMappingURL=main.090c9552.chunk.js.map